# โ PRISMA ะะะกะขะะะะ ะฃะกะะะจะะ

## ะงัะพ ะฑัะปะพ ัะดะตะปะฐะฝะพ

### 1. ะฃััะฐะฝะพะฒะบะฐ ะธ ะฝะฐัััะพะนะบะฐ Prisma

- โ ะฃััะฐะฝะพะฒะปะตะฝั `prisma` ะธ `@prisma/client`
- โ ะะฝะธัะธะฐะปะธะทะธัะพะฒะฐะฝ ะฟัะพะตะบั Prisma (`npx prisma init`)
- โ ะกะพะทะดะฐะฝะฐ ััะตะผะฐ `prisma/schema.prisma` ะดะปั PostgreSQL

### 2. ะกะพะทะดะฐะฝะธะต ััะตะผั ะฑะฐะทั ะดะฐะฝะฝัั

- โ ะะพะดะตะปั `User` (ะฟะพะปัะทะพะฒะฐัะตะปะธ)
- โ ะะพะดะตะปั `Category` (ะบะฐัะตะณะพัะธะธ ัะพะฒะฐัะพะฒ)
- โ ะะพะดะตะปั `Product` (ัะพะฒะฐัั)
- โ ะะพะดะตะปั `Cart` (ะบะพัะทะธะฝั)
- โ ะะพะดะตะปั `CartItem` (ัะปะตะผะตะฝัั ะบะพัะทะธะฝั)
- โ ะะพะดะตะปั `Order` (ะทะฐะบะฐะทั)
- โ ะะพะดะตะปั `OrderItem` (ัะปะตะผะตะฝัั ะทะฐะบะฐะทะฐ)

### 3. ะะฐัััะพะนะบะฐ PostgreSQL

- โ PostgreSQL ะทะฐะฟััะตะฝ ะปะพะบะฐะปัะฝะพ
- โ ะะฐะทะฐ ะดะฐะฝะฝัั `DysonGroup` ัะพะทะดะฐะฝะฐ
- โ ะะธะณัะฐัะธะธ ะฟัะธะผะตะฝะตะฝั ััะฟะตัะฝะพ

### 4. ะะฐะผะตะฝะฐ TypeORM ะฝะฐ Prisma

- โ ะฃะดะฐะปะตะฝั ะฒัะต ะทะฐะฒะธัะธะผะพััะธ TypeORM
- โ ะะฑะฝะพะฒะปะตะฝั ะฒัะต ัะตัะฒะธัั:
  - `UsersService`
  - `ProductsService`
  - `CategoriesService`
  - `CartService`
  - `OrdersService`
- โ ะะฑะฝะพะฒะปะตะฝั ะฒัะต ะผะพะดัะปะธ
- โ ะกะพะทะดะฐะฝ `PrismaService` ั ะฟะพะดะบะปััะตะฝะธะตะผ

### 5. ะัะฟัะฐะฒะปะตะฝะธะต ัะธะฟะธะทะฐัะธะธ

- โ ะะฑะฝะพะฒะปะตะฝั ะบะพะฝััะพะปะปะตัั ะดะปั ะธัะฟะพะปัะทะพะฒะฐะฝะธั Prisma ัะธะฟะพะฒ
- โ ะัะฟัะฐะฒะปะตะฝั ะฟัะพะฑะปะตะผั ั null/undefined
- โ ะะตัะตะฝั ะบะพะฝัะปะธะบัั ัะธะฟะพะฒ Decimal/Float

## ะขะตะบััะธะน ััะฐััั

### โ ะะฐะฑะพัะฐะตั:

- ะกะตัะฒะตั ะทะฐะฟััะตะฝ ะฝะฐ ะฟะพััั 3000
- PostgreSQL ะฟะพะดะบะปััะตะฝ ะธ ัะฐะฑะพัะฐะตั
- API endpoints ะดะพัััะฟะฝั:
  - `GET /` - Hello World
  - `GET /products` - ัะฟะธัะพะบ ะฟัะพะดัะบัะพะฒ (ะฟัััะพะน)
  - `GET /categories` - ัะฟะธัะพะบ ะบะฐัะตะณะพัะธะน
  - `POST /auth/*` - ะฐััะตะฝัะธัะธะบะฐัะธั
  - `GET/POST /cart/*` - ะบะพัะทะธะฝะฐ
  - `GET/POST /order/*` - ะทะฐะบะฐะทั

### โ๏ธ ะขัะตะฑัะตั ะดะพัะฐะฑะพัะบะธ:

- Seed ัะตัะฒะธั (`/seed/database`) - ะฒะพะทะฒัะฐัะฐะตั 500 ะพัะธะฑะบั
- ะัะถะฝะพ ะดะพะฑะฐะฒะธัั ะพะฑัะฐะฑะพัะบั ะพัะธะฑะพะบ ะฒ seed

## ะะพะผะฐะฝะดั ะดะปั ัะฐะฑะพัั

```bash
# ะะฐะฟััะบ ัะตัะฒะตัะฐ
npm run start:dev

# Prisma ะบะพะผะฐะฝะดั
npm run prisma:generate    # ะะตะฝะตัะฐัะธั ะบะปะธะตะฝัะฐ
npm run prisma:migrate     # ะกะพะทะดะฐะฝะธะต ะผะธะณัะฐัะธะธ
npm run prisma:studio      # Prisma Studio (ะฒะตะฑ-ะธะฝัะตััะตะนั)
npm run prisma:reset       # ะกะฑัะพั ะฑะฐะทั ะดะฐะฝะฝัั

# ะัะพะฒะตัะบะฐ API
curl http://localhost:3000
curl http://localhost:3000/products
curl http://localhost:3000/categories
```

## ะกัััะบัััะฐ ัะฐะนะปะพะฒ

```
server/
โโโ prisma/
โ   โโโ schema.prisma           # ะกัะตะผะฐ Prisma
โ   โโโ migrations/             # ะะธะณัะฐัะธะธ
โโโ src/
โ   โโโ database/
โ   โ   โโโ prisma.service.ts   # Prisma ัะตัะฒะธั
โ   โ   โโโ seed.service.ts     # ะะฐะฟะพะปะฝะตะฝะธะต ะดะฐะฝะฝัะผะธ
โ   โโโ users/
โ   โ   โโโ users.service.ts    # โ ะะฑะฝะพะฒะปะตะฝ ะดะปั Prisma
โ   โโโ products/
โ   โ   โโโ products.service.ts # โ ะะฑะฝะพะฒะปะตะฝ ะดะปั Prisma
โ   โโโ categories/
โ   โ   โโโ categories.service.ts # โ ะะฑะฝะพะฒะปะตะฝ ะดะปั Prisma
โ   โโโ cart/
โ   โ   โโโ cart.service.ts     # โ ะะฑะฝะพะฒะปะตะฝ ะดะปั Prisma
โ   โโโ orders/
โ       โโโ orders.service.ts   # โ ะะฑะฝะพะฒะปะตะฝ ะดะปั Prisma
โโโ docker-compose.yml          # PostgreSQL ะฒ Docker
โโโ DATABASE_SETUP.md           # ะะฝััััะบัะธะธ ะฟะพ ะฝะฐัััะพะนะบะต ะะ
โโโ package.json                # โ ะะพะฑะฐะฒะปะตะฝั Prisma ัะบัะธะฟัั
```

## ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั (.env)

```env
DATABASE_URL="postgresql://mac@localhost:5432/dystore?schema=public"
JWT_SECRET="your-secret-key-here"
```

## ะกะปะตะดัััะธะต ัะฐะณะธ

1. **ะัะฟัะฐะฒะธัั seed ัะตัะฒะธั** - ะดะพะฑะฐะฒะธัั ะพะฑัะฐะฑะพัะบั ะพัะธะฑะพะบ
2. **ะะพะฑะฐะฒะธัั ัะตััะพะฒัะต ะดะฐะฝะฝัะต** - ะทะฐะฟะพะปะฝะธัั ะฑะฐะทั ะฟัะพะดัะบัะฐะผะธ
3. **ะขะตััะธัะพะฒะฐะฝะธะต** - ะฟัะพะฒะตัะธัั ะฒัะต API endpoints
4. **ะะพะบัะผะตะฝัะฐัะธั** - API ะดะพะบัะผะตะฝัะฐัะธั ั ะฟัะธะผะตัะฐะผะธ

## ะััะธัะตะบัััะฐ

```mermaid
graph TB
    A[NestJS App] --> B[PrismaService]
    B --> C[PostgreSQL Database]

    D[UsersService] --> B
    E[ProductsService] --> B
    F[CategoriesService] --> B
    G[CartService] --> B
    H[OrdersService] --> B

    I[Controllers] --> D
    I --> E
    I --> F
    I --> G
    I --> H
```

**ะะฐะทะฐ ะดะฐะฝะฝัั ะฝะฐ Prisma ััะฟะตัะฝะพ ะฝะฐัััะพะตะฝะฐ ะธ ัะฐะฑะพัะฐะตั! ๐**
